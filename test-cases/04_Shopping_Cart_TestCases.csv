ID,Mô tả,Điều kiện,Dữ liệu đầu vào,Bước thực hiện,Kết quả mong đợi,Kết quả,Mức độ Ưu tiên
CART-001,Thêm sản phẩm vào giỏ hàng - Lần đầu,Giỏ hàng trống; Product có sẵn,"ProductID: 12
Quantity: 1","1. Mở trang chi tiết sản phẩm /products/12
2. Click nút ""Thêm vào giỏ hàng""","- Call: addToCart(product, 1)
- localStorage cart update
- cart.items = [{ product: {...}, quantity: 1 }]
- cart.totalItems = 1
- cart.totalPrice = product.price
- Hiển thị toast/notification: ""Đã thêm vào giỏ hàng""
- Cart icon badge hiển thị số 1",,High
CART-002,Thêm sản phẩm đã có trong giỏ,Product đã có trong cart với quantity=1,"ProductID: 12 (existing)
Add: 1 more","1. Product 12 đã có quantity=1
2. Click ""Thêm vào giỏ hàng"" lần nữa","- Không tạo item mới
- Update quantity: 1 + 1 = 2
- cart.items vẫn 1 item
- totalItems = 2
- totalPrice = price * 2
- Toast: ""Đã cập nhật số lượng""",,High
CART-003,Xem giỏ hàng - Có sản phẩm,Cart có ≥1 items,"(cart with items)","1. Click icon giỏ hàng trên Header
2. Hoặc mở /cart","- Render CartPage component
- Hiển thị list cart items
- Mỗi item: ảnh, tên, giá, quantity controls, nút xóa
- Summary box bên phải: Tạm tính, Phí ship, Tổng cộng
- Button ""Thanh toán ngay"", ""Tiếp tục mua sắm""",,High
CART-004,Xem giỏ hàng - Giỏ trống,cart.items.length = 0,(empty cart),"1. Cart chưa có item
2. Mở /cart","- Render empty state
- Icon giỏ hàng rỗng (SVG)
- Title: ""Giỏ hàng trống""
- Text: ""Bạn chưa có sản phẩm nào trong giỏ hàng""
- Button ""Tiếp tục mua sắm"" → link to /products",,Medium
CART-005,Tăng số lượng sản phẩm,Item trong cart có quantity=2,"ProductID: 12
Current: 2","1. Mở /cart
2. Click nút + bên cạnh quantity","- Call: updateQuantity(productId, quantity + 1)
- Update quantity: 2 → 3
- Thành tiền: price * 3
- Tổng cộng update
- localStorage sync",,High
CART-006,Giảm số lượng sản phẩm,Item có quantity=3,"Current: 3","1. Click nút - bên quantity","- updateQuantity(productId, quantity - 1)
- Quantity: 3 → 2
- Thành tiền update
- Tổng cộng update",,High
CART-007,Giảm số lượng xuống 1 - Button disabled,quantity=1,"Current: 1","1. Quantity = 1
2. Xem nút -","- Button - có disabled={quantity <= 1}
- Click không có effect
- Minimum quantity = 1
- Không giảm xuống 0",,Medium
CART-008,Xóa sản phẩm khỏi giỏ,Item trong cart,"ProductID: 12","1. Click nút ""Xóa"" màu đỏ trên item","- Call: removeFromCart(productId)
- Item bị remove khỏi cart.items
- totalItems giảm
- totalPrice giảm
- localStorage update
- Nếu cart rỗng → redirect to empty state",,High
CART-009,Xóa tất cả sản phẩm,Cart có nhiều items,(clear all),"1. Có ≥2 items trong cart
2. Click ""Xóa tất cả"" dưới cùng list","- Button text: ""Đang xóa..."" 
- Call: clearCart()
- cart.items = []
- totalItems = 0
- totalPrice = 0
- localStorage.removeItem('cart')
- Redirect to empty state",,Medium
CART-010,Hiển thị ảnh sản phẩm trong cart,Item có imageUrl,"imageUrl: /product.jpg","1. Xem cart item","- Image component: width=80, height=80
- Src: item.product.imageUrl || ""/hero.jpg""
- Rounded-lg
- Object-cover
- Fallback nếu imageUrl null",,Low
CART-011,Hiển thị OCOP rating trong cart,Item có ocopRating=5,"ocopRating: 5","1. Xem cart item
2. Check OCOP badge","- Hiển thị: ""⭐ OCOP 5 sao""
- Color: text-yellow-600
- Font-size: text-sm",,Low
CART-012,Link tới product detail từ cart,Cart item,"ProductID: 12","1. Xem cart item
2. Click vào tên sản phẩm","- Tên product là link: <Link href={/products/${id}}>
- Hover: text-indigo-600
- Click redirect to product detail page",,Medium
CART-013,Tính tạm tính - Tổng giá items,Cart: 2 items (100k, 150k),"Item1: 100,000đ x 1
Item2: 150,000đ x 2","1. Xem summary box","- Tạm tính = (100k * 1) + (150k * 2) = 400,000đ
- Display: ""400.000 ₫""
- Format: toLocaleString('vi-VN')",,High
CART-014,Hiển thị phí vận chuyển,Any cart,(shipping fee),"1. Xem summary","- Text: ""Phí vận chuyển:""
- Value: ""Miễn phí"" (text-green-600)
- Không cộng vào tổng",,Medium
CART-015,Tính tổng cộng,Cart items total = 400k,"Tạm tính: 400,000
Ship: 0","1. Xem summary","- Tổng cộng = Tạm tính + Ship = 400,000đ
- Font: text-lg font-bold
- Color: text-gray-900
- Display: ""400.000 ₫""",,High
CART-016,Security badge hiển thị,Any cart,(security badge),"1. Scroll xuống summary box","- Icon check màu xanh
- Text: ""Thanh toán an toàn & bảo mật""
- Position: dưới cùng summary box",,Low
CART-017,Sticky summary box - Desktop,Desktop layout,(scroll behavior),"1. Desktop view
2. Scroll page xuống","- Summary box có class: sticky top-8
- Box dính ở top khi scroll
- Không scroll out of view",,Low
CART-018,Grid layout - Desktop,Desktop ≥1024px,(layout),"1. Desktop view
2. Xem /cart","- Grid: grid-cols-1 lg:grid-cols-3 gap-8
- Items list: lg:col-span-2 (2/3 width)
- Summary: lg:col-span-1 (1/3 width)",,Medium
CART-019,Grid layout - Mobile,Mobile <1024px,(layout),"1. Mobile view
2. Xem /cart","- Grid: grid-cols-1 (full width)
- Items list ở trên
- Summary ở dưới
- Stack vertical",,Medium
CART-020,Button Thanh toán ngay,Cart có items,(checkout button),"1. Click ""Thanh toán ngay""","- Button: bg-indigo-600 full width py-3
- Hover: bg-indigo-700
- (Hiện tại chưa implement checkout flow)
- Có thể redirect to /checkout hoặc show modal",,High
CART-021,Button Tiếp tục mua sắm,Any state,(continue shopping),"1. Click ""Tiếp tục mua sắm""","- Link to /products
- Button: bg-gray-100 text-gray-900
- Hover: bg-gray-200",,Medium
CART-022,LocalStorage persistence,Cart có items,"(storage)","1. Thêm items vào cart
2. Reload page
3. Mở /cart","- Cart data lưu trong localStorage key 'cart'
- Reload page → cart data persist
- useCart() hook load từ localStorage
- Items vẫn hiển thị đúng",,High
CART-023,Cart context provider,App component tree,"(context)","1. Check providers.tsx
2. Wrap app với CartProvider","- CartProvider wrap app
- useCart() hook available ở mọi component
- State: cart, addToCart, updateQuantity, removeFromCart, clearCart
- Context API React",,Medium
CART-024,Cart badge trên Header,Header component,"totalItems: 3","1. Có 3 items trong cart
2. Xem Header cart icon","- Badge hiển thị số 3
- Position: absolute top-right của icon
- Background: bg-red-500 text-white
- Font-size: text-xs
- Rounded-full",,Medium
CART-025,Empty cart sau khi checkout,Checkout thành công,(post-checkout),"1. Hoàn tất thanh toán
2. Check cart","- clearCart() được gọi
- cart.items = []
- localStorage clear
- Redirect to order confirmation hoặc /home",,Medium

